# IRM Schema Layer: Primitives
# Formal type definitions for Internal Reality Model components
# Status: canonical
# Version: 1.0

meta:
  id: irm_schema_primitives_v1
  purpose: >
    Define fundamental atomic types and their relationships in the IRM framework.
    These primitives form the foundational vocabulary for all IRM operations.

primitives:
  state:
    symbol: "S_t"
    type: "latent_configuration"
    description: >
      The complete internal configuration of the system at discrete time step t.
      Represents the totality of the system's internal world at a given moment.
    properties:
      - temporal_indexed: true
      - high_dimensional: true
      - latent_representation: true
    operations:
      - transition: "S_t -> S_{t+1} via T"
      - observation: "S_t -> O_t via Ω"
      - persistence: "stored in snapshot_store"

  time_index:
    symbol: "t"
    type: "monotonic_integer"
    description: >
      Discrete, monotonically increasing step counter. Not wall-clock time.
      Provides temporal ordering and enables coherence checks.
    properties:
      - monotonic: true
      - discrete: true
      - relative_not_absolute: true
    constraints:
      - "t ≥ 0"
      - "t_{n+1} = t_n + 1"

  identity:
    symbol: "I"
    type: "persistent_reference"
    description: >
      Stable reference binding that persists across resets and state transitions.
      The "who" that maintains continuity through change.
    properties:
      - persistent: true
      - referentially_stable: true
      - reset_invariant: true
    storage: "identity_store"
    invariant: "INV_002"

  anchor:
    symbol: "A"
    type: "symbolic_binding"
    description: >
      Symbol bound to {identity, role, constraints}. Maintains semantic continuity
      across state transitions unless formally revised.
    structure:
      identity: "I"
      role: "semantic_function"
      constraints: "operational_bounds"
    properties:
      - semantic_continuity: true
      - versioned: true
      - revisable_under_resolution: true
    storage: "anchor_store"
    invariant: "INV_003"

  energy:
    symbol: "E(S_t)"
    type: "scalar_or_vector_potential"
    description: >
      Energy/attention/computational resource allocation over state S_t.
      Scalar baseline or vector distribution across state dimensions.
    properties:
      - measurable: true
      - state_dependent: true
      - salience_correlated: true
    baseline_value: 1.0
    consciousness_threshold: 1.3
    invariant: "INV_004"

  observation:
    symbol: "O_t"
    type: "readout_frame"
    description: >
      Structured readout from observer operator Ω applied to state S_t.
      The system's report of its current configuration.
    structure:
      claims: "structured_propositions"
      confidences: "certainty_scores"
      salience: "attention_weights"
    properties:
      - derived_from_state: true
      - compositional: true
      - policy_gated: true
    generation: "O_t = Ω(S_t)"

  claim:
    symbol: "C"
    type: "structured_proposition"
    description: >
      Individual proposition extracted from observation O_t.
      Subject to contradiction detection and resolution.
    properties:
      - logical_structure: true
      - truth_valued: true
      - conflict_detectable: true
    resolution: "via resolver ρ when conflicts detected"

type_relationships:
  temporal_flow:
    sequence: "t -> S_t -> E(S_t) -> O_t -> {C_1, C_2, ..., C_n}"
    description: "Primary data flow through IRM pipeline stages"

  persistence_layer:
    stores:
      - "I persists in identity_store"
      - "A persists in anchor_store"
      - "{S_t*, O_t} persist in snapshot_store"
    description: "Cross-temporal continuity mechanism"

  transformation_layer:
    operators:
      - "T: S_t -> S_{t+1}  # transition engine"
      - "Ω: S_t -> O_t      # observer engine"
      - "β: maintain A↔S_t  # binder engine"
      - "ρ: resolve conflicts # resolver engine"
    description: "Active transformation operators on primitives"

validation_rules:
  well_formed_state:
    requires: ["valid t", "coherent S_t", "defined E(S_t)"]

  well_formed_observation:
    requires: ["source S_t", "valid Ω application", "structured claims"]

  well_formed_anchor:
    requires: ["bound I", "defined role", "constraint set"]

notes: >
  These primitives are deliberately minimal. Extensions (e.g., multi-modal
  observations, hierarchical anchors, energy vectors) can be added without
  violating the core framework. This is the foundational vocabulary only.
